<project name="jmatch-configure" default="instructions" basedir=".">
  <description>
    JMatch configure file
  </description>

  <target name="instructions" 
          description="Tell the user the instructions for using this build file">
    <echo>
This build file is meant to be used only from the main buildfile build.xml.
    </echo>
    <fail/>
  </target>

  <target name="configure" 
          description="Configure JMatch" 
          depends="check-classpath,executables">
  </target>

  <target name="check-classpath" description="Check the classpath contains the appropriate directories/jars">
  </target>

  <target name="executables" 
          description="creates the executable scripts jmc and jm">
    <echo message="Creating ${bin}/jmc"/>
    <concat destfile="${bin}/jmc" append="no">
      <filelist dir="${bin}" files="defs"/>
    </concat>
    <concat destfile="${bin}/jmc" append="yes">
ext="jmatch"
    </concat>
    <concat destfile="${bin}/jmc" append="yes">
      <filelist dir="${bin}" files="jlc.in"/>
    </concat>
    <chmod perm="+x" file="${bin}/jmc"/>

    <echo message="Creating ${bin}/jm"/>
    <concat destfile="${bin}/jm" append="no">
      <filelist dir="${bin}" files="defs"/>
    </concat>
    <concat destfile="${bin}/jm" append="yes">
      <filelist dir="${bin}" files="jm.in"/>
    </concat>
    <chmod perm="+x" file="${bin}/jm"/>
  </target>
</project>

