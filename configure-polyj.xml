<project name="polyj-configure" default="instructions" basedir=".">
  <description>
    PolyJ configure file
  </description>

  <target name="instructions" 
          description="Tell the user the instructions for using this build file">
    <echo>
This build file is meant to only be used from the main buildfile build.xml.
    </echo>
    <fail/>
  </target>

  <target name="configure" 
          description="Configure PolyJ" 
          depends="check-classpath,executables">
  </target>

  <target name="check-classpath" description="Check the classpath contains the appropriate directories/jars">
  </target>

  <target name="executables" 
          description="creates the executable script polyjc">
    <echo message="Creating ${bin}/polyjc"/>
    <concat destfile="${bin}/polyjc" append="no">
      <filelist dir="${bin}" files="defs"/>
    </concat>
    <concat destfile="${bin}/polyjc" append="yes">
ext="-ext polyj"
    </concat>
    <concat destfile="${bin}/polyjc" append="yes">
      <filelist dir="${bin}" files="jlc.in"/>
    </concat>
    <chmod perm="+x" file="${bin}/polyjc"/>
  </target>
</project>

